# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/book/service_container.html
parameters:
    picture_entity: Acme\ServerBundle\Entity\Picture
    user_entity: Acme\ServerBundle\Entity\User
    friend_entity: Acme\ServerBundle\Entity\Friend
    picture_comment_entity: Acme\ServerBundle\Entity\PictureComment
    picture_like_entity: Acme\ServerBundle\Entity\PictureLike
    picture_tag_entity: Acme\ServerBundle\Entity\PictureTag
    tag_entity: Acme\ServerBundle\Entity\Tag

services:
    api_token_user_provider:
        class: Acme\ServerBundle\Security\ApiTokenUserProvider
        arguments: ['@doctrine.orm.entity_manager']

    api_token_authenticator:
        class: Acme\ServerBundle\Security\ApiTokenAuthenticator
        arguments: ["@security.http_utils"]
        public: false

    rest.picture.helper:
        class: Acme\ServerBundle\Helper\PictureRestHelper
        arguments: ['@doctrine.orm.entity_manager', '@form.factory', '%picture_entity%']

    rest.auth.helper:
        class: Acme\ServerBundle\Helper\AuthHelper
        arguments: ['@doctrine.orm.entity_manager']

    rest.user.helper:
        class: Acme\ServerBundle\Helper\UserRestHelper
        arguments: ['@doctrine.orm.entity_manager', '@form.factory', '@rest.auth.helper', '%user_entity%']

    rest.friend.helper:
        class: Acme\ServerBundle\Helper\FriendRestHelper
        arguments: ['@doctrine.orm.entity_manager', '%friend_entity%']

    rest.comment.helper:
        class: Acme\ServerBundle\Helper\CommentRestHelper
        arguments: ['@doctrine.orm.entity_manager', '@form.factory', '%picture_comment_entity%']

    rest.like.helper:
        class: Acme\ServerBundle\Helper\LikeRestHelper
        arguments: ['@doctrine.orm.entity_manager', '@form.factory', '%picture_like_entity%']

    rest.picture.tag.helper:
        class: Acme\ServerBundle\Helper\PictureTagRestHelper
        arguments: ['@doctrine.orm.entity_manager', '@form.factory', '%picture_tag_entity%']

    rest.tag.helper:
        class: Acme\ServerBundle\Helper\TagRestHelper
        arguments: ['@doctrine.orm.entity_manager', '@form.factory', '%tag_entity%']